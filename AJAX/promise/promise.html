<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<script src="jquery.min.js"></script>	
</head>
<body>
	<p id="test"></p>
<script>
	//生成一个0-2之间的随机数，如果小于1，则等待一段时间后返回成功，否则返回失败：
	function test(resolve,reject){
		var timeOut=Math.random()*2;
		console.log('set timeout to:'+timeOut+'seconds');
		setTimeout(function(){
			if(timeOut<1){
				console.log('call resolve()...');
				resolve('200 ok');
			}else{
				console.log('call reject()...');
				reject('timeout in'+timeOut+'seconds');
			}
		},timeOut*1000);
	}
	var p1=new Promise(test).then(function(result){
		console.log('成功：'+result);
	}).catch(function(reason){
		console.log('失败：'+reason);
	})


</script>
</body>
</html>